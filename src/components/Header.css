/* ====== Variables (sin cambios de tus tamaños/colores) ====== */
:root{
  --brand-dark:#255218;
  --topbar:#0f2823;
  --ink:#000;

  --topbar-h:34px;
  --nav-h:72px;

  --logo-size:60px;
  --logo-drop:32px;

  --curve-diam:112px;
  --curve-lift:30px;

  --header-h:calc(var(--topbar-h) + var(--nav-h));
}

/* Offset secciones */
.main-offset, main{ padding-top:var(--header-h); }
section{ padding-block:clamp(48px,8vw,128px); }
section[id]{ scroll-margin-top:calc(var(--header-h) + 16px); }

/* Top strip */
.top-strip{ position:fixed; top:0; left:0; right:0; height:var(--topbar-h); background:var(--topbar); z-index:100; padding-top:env(safe-area-inset-top,0); }
.top-strip__inner{ height:100%; padding:0 clamp(10px,3vw,24px); display:flex; align-items:center; justify-content:flex-end; }
.social-icons{ display:flex; gap:12px; color:#e4f07a; }
.icon{ display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; color:#fff; }

/* Barra blanca */
.nav-strip{ position:fixed; top:var(--topbar-h); left:0; right:0; background:#fff; border-bottom:1px solid rgba(0,0,0,.08); z-index:99; }
.nav-strip__inner{ height:var(--nav-h); display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:16px; padding:0 clamp(12px,4vw,48px); position:relative; }
.brand-wrap{ position:relative; width:max(var(--logo-size),56px); height:var(--nav-h); display:flex; align-items:center; padding-top:var(--logo-drop); }
.brand-logo--round{ height:var(--logo-size); width:auto; object-fit:contain; display:block; }
.brand-curve{
  position:absolute; left:calc((var(--logo-size)/2) - (var(--curve-diam)/2));
  top:calc(var(--nav-h) - 1px - var(--curve-lift));
  width:var(--curve-diam); height:calc(var(--curve-diam)/2);
  background:#fff; border-bottom-left-radius:999px; border-bottom-right-radius:999px;
  border-bottom:1px solid rgba(0,0,0,.08); pointer-events:none; z-index:-1;
}

/* Menú desktop */
.menu{ font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; font-weight:600; font-size:12px; }
.menu--desktop{ display:flex; align-items:center; justify-content:center; gap:clamp(25px,5vw,60px); width:100%; }
.menu a{ color:var(--ink); text-decoration:none; padding:8px 12px; border-radius:999px; }
.menu a:hover{ color:var(--brand-dark); background:rgba(37,82,24,.08); }

/* Botón (desktop oculto) */
.menu-toggle{ display:none; justify-self:end; border:0; background:transparent; }

/* Drawer base */
.mobile-drawer{ position:fixed; inset:0; pointer-events:none; z-index:98; }
.mobile-drawer__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.30); opacity:0; transition:opacity .25s; border:0; }
.mobile-drawer__inner{
  position:absolute; top:calc(var(--topbar-h) + var(--nav-h)); right:0; bottom:0;
  width:min(66vw,280px); background:#fff;
  transform:translateX(100%); transition:transform .28s ease;
  box-shadow:-18px 0 32px rgba(0,0,0,.18);
  border-left:1px solid rgba(0,0,0,.07); border-top-left-radius:14px;
  display:flex; padding:8px;
}
.menu--mobile{ display:grid; gap:0; width:100%; }
.menu--mobile a{ color:#000; padding:10px 12px; border-radius:10px; font-weight:600; font-size:14px; }
.menu--mobile a:hover{ background:rgba(37,82,24,.10); color:var(--brand-dark); }
.mobile-drawer.is-open{ pointer-events:auto; }
.mobile-drawer.is-open .mobile-drawer__inner{ transform:translateX(0); }
.mobile-drawer.is-open .mobile-drawer__backdrop{ opacity:1; }

/* ======== SOLO MÓVIL (hamburguesa + ajustes) ======== */
@media (max-width:980px){
  :root{ --nav-h:60px; --logo-size:60px; --curve-diam: 70px !important; --curve-lift: 16px !important;}

   .mobile-drawer__inner{
    background: #ffffff !important;   
    filter: none !important;           
    backdrop-filter: none !important;  
    opacity: 1 !important;      
    z-index: 2;          
    width: clamp(220px, 30vw, 320px);   /* antes: min(66vw, 280px) */
    padding: 6px 8px;
  }

    .menu--mobile{
    display: grid;
    gap: 4px;             
    align-content: start;    
    justify-content: stretch; 
  }
  .menu--mobile{ gap:0; }
  .menu--mobile a{
    display: block;          /* toda la fila clicable */
    padding: 22px 8px;       /* antes: 10px 12px */
    margin: 0;               /* sin márgenes extra */
    line-height: 1.1;        /* más compacto */
  }

  .mobile-drawer__backdrop{
    z-index: 1;
    /* puedes ajustar la intensidad del fondo si quieres menos oscurecimiento: */
    background: rgba(0,0,0,.30);
  }
  .menu--desktop{ display:none; }
  .menu-toggle{
    display:inline-flex;
    width:44px; height:44px;
    align-items:center; justify-content:center;
    -webkit-tap-highlight-color:transparent;
    z-index:1000; /* siempre visible */
  }

  /* HAMBURGUESA FIABLE (span + ::before/::after) */
  .hamburger{
    position:relative;
    width:26px; height:3px;
    background:#000; border-radius:2px;
    transition:background .2s ease;
  }
  .hamburger::before,
  .hamburger::after{
    content:""; position:absolute; left:0; right:0; height:3px;
    background:#000; border-radius:2px;
    transition:transform .25s cubic-bezier(.4,1,.4,1), top .25s, bottom .25s, opacity .2s;
  }
  .hamburger::before{ top:-8px; }
  .hamburger::after{ bottom:-8px; }

  /* Animación a “X” cuando el botón tiene .is-open */
  .menu-toggle.is-open .hamburger{ background:transparent; }
  .menu-toggle.is-open .hamburger::before{
    top:0; transform:rotate(45deg);
  }
  .menu-toggle.is-open .hamburger::after{
    bottom:0; transform:rotate(-45deg);
  }
}

/* XS */
@media (max-width:420px){
  :root{ --nav-h:56px; --logo-size:54px; --logo-drop:20px; }
  .mobile-drawer__inner{ width:min(74vw,264px); padding:6px 8px;     width: clamp(200px, 52vw, 280px);}
  .menu--mobile a{ padding:22px 12px; font-size:13.5px; menu--mobile{ gap: 10px; } }
}
